




<!DOCTYPE html>
<!--[if IE 7]> <html lang="en" class="lt-ie9 lt-ie8 no-js"> <![endif]-->
<!--[if IE 8]> <html lang="en" class="lt-ie9 no-js"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
    <meta charset=utf-8 />
    <meta name="author" content="UCL" />
    <meta name="description" content="UCL Homepage" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- social meta -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@uclnews">
    <meta name="twitter:title" content="UCL - London's Global University">
    <meta name="twitter:description" content="UCL (University College London) is London's leading multidisciplinary university, with 8,000 staff and 25,000 students.">
    <meta name="twitter:creator" content="@UCLWAMS">
    <meta name="twitter:image:src" content="http://www.ucl.ac.uk/visual-identity/logos/standalone.png">
    <meta property="og:image" content="http://www.ucl.ac.uk/visual-identity/logos/standalone.png" />
    <meta property="og:title" content="UCL - London's Global University" />
    <meta property="og:url" content="http://www.ucl.ac.uk" />
    <meta property="og:site_name" content="UCL" />
    <meta property="og:description" content="UCL (University College London) is London's leading multidisciplinary university, with 8,000 staff and 25,000 students." />
    <meta property="og:type" content="website" />
    <meta property="og:profile_id" content="uclofficial" />
    <!-- end social meta -->

  <title>Iterators, Generators, Decorators, and Contexts</title>

  <link href="/rsd-engineeringcourse/css/screen.min.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="/rsd-engineeringcourse/css/jekyll-styles.css" rel="stylesheet" type="text/css">
  <link href="/rsd-engineeringcourse/site-styles/local_styles.css" rel="stylesheet" type="text/css">
  <link href="/rsd-engineeringcourse/site-styles/ipython.css" rel="stylesheet" type="text/css">

  <link rel="shortcut icon" href="/rsd-engineeringcourse/images/favicon.ico" />
    <link rel="apple-touch-icon-precomposed" href="/rsd-engineeringcourse/favicon-152.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-TileImage" content="/rsd-engineeringcourse/favicon-144.png">

  <script src="/rsd-engineeringcourse/js/lib/modernizr-custom.js"></script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>

    <script>
      var cuttingTheMustard = document.querySelector && window.localStorage && window.addEventListener;

      Modernizr.load({
        //cutting the mustard as used by the BBC
        test: cuttingTheMustard
        //if old browser load the shiv
        ,
        nope: [
          '/rsd-engineeringcourse/js/lib/html5shiv-printshiv.min.js', '/rsd-engineeringcourse/js/lib/respond.min.js'
        ]
      });
      //set conditional assets for main.js
      var globalSiteSpecificVars = {
        pathToJquery: "/rsd-engineeringcourse/js/lib/jquery-1.9.1.min",
        googleAnalyticsIdsArray: [] //specify array of site specific id's NOT UCL generic UA-943297-1
      }
      if (cuttingTheMustard) {
        globalSiteSpecificVars.pathToJquery = '/rsd-engineeringcourse/js/lib/jquery-2.1.1.min';
      }
    </script>
    <script src="/rsd-engineeringcourse/js/lib/require.min.js"></script>
    <script src="/rsd-engineeringcourse/js/main.js"></script>
    <script>
      require.config({
        baseUrl: '/rsd-engineeringcourse/js/lib'
      });
        require(["app/general", "app/searchWithAutoComplete", "app/tabs"]);//load the default stuff
    </script>
</head>

<body id="index" class="layout-vertical layout-vertical--nav-1col">

  <header class="header header--desktop">

  <a class="header__close" href="#">
    <img src="/rsd-engineeringcourse/images/close.png" class="lazy" data-src="//static.ucl.ac.uk/indigo/images/close.png" alt="X" />Close</a>

  <div class="masthead">

  <div class="wrapper clearfix">

      <div class="masthead__search">
					<form action="#" method="get">
						<div class="search-form">
							<input type="search" placeholder="Search UCL websites, people and more" class="search-form__input search-form__input--search" value="">
						</div>
						<input type="submit" name="sumbit" value="Go" class="btn search-form__input search-form__input--submit" />
					</form>
				</div>


				<nav class="masthead__nav m-clear">
					<ul class="masthead__list">
						<li class="masthead__item"><a href="index.php" class="masthead__link">UCL Home</a>
						</li>
						<li class="masthead__item"><a href="prospective-students.php" class="masthead__link">Prospective students</a>
						</li>
						<li class="masthead__item"><a href="current-students.php" class="masthead__link">Current students</a>
						</li>
						<li class="masthead__item"><a href="staff.php" class="masthead__link">Staff</a>
						</li>
					</ul>
				</nav>
			</div>

</div><!-- end .masthead -->


  <div class="wrapper">

    <div class="photograph">
  <div class="brand">
    <p class="brand__heading">MPHYG001: Research Software Engineering With Python</p>
    <a href="/" class="brand__link"><span class="visually-hidden">Home</span></a>
    <img src="//cdn.ucl.ac.uk/img/blank.gif" data-src="//static.ucl.ac.uk/indigo/images/ucl-logo.svg" alt="UCL logo" id="logo" class="brand__logo lazy">  
  </div>
</div>


    <div class="sidebar">

      <nav class="nav nav--mobile">
        <ul>
          




        </ul>
      </nav>

      <nav class="nav nav--left">
        <ul>
          

 <li class="active"> <a href="/rsd-engineeringcourse/ch00python/">Introduction to Python</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/00pythons.html">Many kinds of Python</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/010exemplar.html">An example program</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/015variables.html">Variables</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/016using_functions.html">Using Functions</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/023types.html">Types</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/025containers.html">Containers</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/028dictionaries.html">Dictionaries</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/029structures.html">Structures</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/030MazeSolution.html">Maze Solution</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/032conditionality.html">Conditionality</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/035looping.html">Looping</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/036MazeSolution2.html">Maze Control Solution</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/037comprehensions.html">Comprehensions</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/038SolutionComprehension.html">Maze comprehension solution.</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/04functions.html">Defining functions</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/050import.html">Modules</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/101Classes.html">Classes</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/105TextFiles.html">Writing Libraries</a> </li> </ul> </li><li class="active"> <a href="/rsd-engineeringcourse/ch01data/">Research Data in Python</a><ul><li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/060files.html">Working with files</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/061internet.html">Internet</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/062csv.html">CSV</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/064JsonYamlXML.html">Structured Datafiles</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/065MazeSaved.html">Maze Files Solution</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/066QuakeExercise.html">Earthquakes Exercise</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/068QuakesSolution.html">Quakes Solution</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/072plotting.html">Plotting</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/082NumPy.html">Numerical Python</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/084Boids.html">The Boids</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/110Capstone.html">Understanding the Exemplar</a> </li> </ul> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch02git/">Version Control</a><ul><li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/01Intro.html">Introduction to Version Control</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/02Solo.html">Solo Git</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/03Mistakes.html">Fixing Mistakes</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/04Publishing.html">Publishing</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/05Collaboration.html">Collaboration</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/06ForkAndPull.html">Fork and Pull</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/09GitTheory.html">Git Theory</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/10Branches.html">Branches</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/11Miscellany.html">Git miscellany</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/12Remotes.html">Remotes</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/13Rebase.html">Rebase</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/14Bisect.html">Bisect</a> </li></ul> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch03tests/">Testing</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/01testingbasics.html">Testing Basics</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/02SaskatchewanFields.html">The Fields of Saskatchewan</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/03Nose.html">Nose</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/04EnergyExample.html">Energy Example</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/05Mocks.html">Mocks</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/06Debugger.html">Debugger</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/07CI.html">Continuous Integration</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/08DiffusionExample.html">Diffusion Example</a> </li> </ul> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch04packaging/">Software Projects</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/010Installation.html">Installing Libraries</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/01Libraries.html">Libraries</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/02Argparse.html">Argparse</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/035ExerciseGreengraph.html">Exercise- Packaging Greengraph</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/03Packaging.html">Packaging</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/04documentation.html">Documentation</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/05Process.html">Agile and Waterfall</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/06Licensing.html">Licensing</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/07Issues.html">Issue Tracking</a> </li> </ul> </li><li class="active"> <a href="/rsd-engineeringcourse/ch05construction/">Construction and Design</a><ul><li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/01introduction.html">Construction</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/02conventions.html">Coding Conventions</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/03comments.html">Comments</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/05refactoring.html">Refactoring</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/06objects.html">Object Refactorings</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/08objects.html">Object Oriented Design</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/09patterns.html">Design Patterns</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/10boids.html">Exercise - Boids</a> </li> </ul> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch07dry/">Advanced Programming Techniques</a><ul><li class="active"> <a href="/rsd-engineeringcourse/ch07dry/01intro.html">Don't Repeat Yourself</a> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch07dry/020Functional.html">Functional Programming</a> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch07dry/025Iterators.html">Iterators, Generators, Decorators, and Contexts</a> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch07dry/040Exceptions.html">Exceptions</a> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch07dry/050Operators.html">Operator Overloading</a> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch07dry/060Metaprogramming.html">Metaprogramming</a> </li></ul> </li><li class="active"> <a href="/rsd-engineeringcourse/ch08performance/">Programming for Speed</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/ch08performance/010intro.html">Two Mandelbrots</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch08performance/015mandels.html">Faster Mandelbrots?</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch08performance/020numpy.html">NumPy</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch08performance/040cython.html">Cython</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch08performance/050scaling.html">Scaling</a> </li></ul> </li> <li class="active"> <a href="/rsd-engineeringcourse/session99/">Installation</a><ul><li class="inactive"> <a href="/rsd-engineeringcourse/session99/linux.html">Linux</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/session99/mac.html">Mac OSX</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/session99/windows.html">Windows</a> </li></ul> </li> 

        </ul>
      </nav>

    </div>
    <!-- end .sidebar -->

    <nav class="nav nav--top">
      <ul>
        
      </ul>
    </nav>

  </div>
  <!-- end .wrapper -->

  </header>
  <!-- end .header -->

  <div class="site-content wrapper">

    <header class="header header--mobile default-header">
      <a class="header__open" href="#">
        <img src="/rsd-engineeringcourse/images/ucl-menu.svg" alt="Menu" />
      </a>
    </header>

    <div class="site-content__inner clearfix">
      <div class="site-content__body">

          <nav class="breadcrumb clearfix">
            <ul class="breadcrumb__list">
              <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/">UCL</a></li>

  
    <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/ISD">ISD</a></li>
  
    <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/isd/services">Our services</a></li>
  
    <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/isd/services/research-it">Research IT</a></li>
  
    <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/isd/services/research-it/training">Training</a></li>
  

<li class="breadcrumb__item"><a href="/rsd-engineeringcourse/">MPHYG0001</a></li>



            </ul>
          </nav>
         <div class="site-content__main">
          
             <div id="slidelink">
               <a href="/rsd-engineeringcourse/ch07dry/025Iterators.html.ipynb">Notebook download</a>
             </div>
          
          
          

    <div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Iterators-and-Generators">Iterators and Generators<a class="anchor-link" href="#Iterators-and-Generators">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We've seen that in Python, anything which can be iterated over is called an iterable:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">bowl</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;apple&quot;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s2">&quot;banana&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;orange&quot;</span> <span class="p">:</span> <span class="mi">7</span>
<span class="p">}</span>

<span class="k">for</span> <span class="n">fruit</span> <span class="ow">in</span> <span class="n">bowl</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">fruit</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>ORANGE
APPLE
BANANA
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Surprisingly often, we want to iterate over something that takes a moderately
large amount of storage to store. For example, our map images in the
green-graph example.</p>
<p>Our green-graph example involved making an array of all the maps between London
and Birmingham. This kept them all in memory <em>at the same time</em>: first we
downloaded all the maps, then we counted the green pixels in each of them.</p>
<p>This would NOT work if we used more points. We need to use a <strong>generator</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Iterators">Iterators<a class="anchor-link" href="#Iterators">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Consider the basic python <code>range</code> function:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[2]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">total</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mf">1e6</span><span class="p">)):</span> <span class="n">total</span><span class="o">+=</span> <span class="n">x</span>

<span class="n">total</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[3]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>499999500000</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>While this was executing, the range() statement allocated a million integers.
This is very inefficient.</p>
<p>We don't actually need a million integers <strong>at once</strong>, just each
integer <strong>in turn</strong> up to a million.</p>
<p><code>xrange</code> is like range, but yields an iterable which is not an array.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[4]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>xrange(3)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So we can for loop over it:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> 
    <span class="k">print</span> <span class="n">i</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0
1
2
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>An generator object, like xrange(3), when we iterate over it, works by defining a <code>next()</code> method which
moves the iterator forward:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">a</span><span class="o">=</span><span class="nb">iter</span><span class="p">(</span><span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[7]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[8]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>1</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[9]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>2</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>At the end, <code>StopIteration</code> is raised as an exception:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>

<span class="ansi-red-fg">StopIteration</span>Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-10-aa817a57a973&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>a<span class="ansi-blue-fg">.</span>next<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">StopIteration</span>: </pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can turn an iterator back into a list with the <code>list</code> constructor function:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="nb">xrange</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[11]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[0, 1, 2, 3, 4]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">total</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mf">1e6</span><span class="p">)):</span> <span class="n">total</span><span class="o">+=</span> <span class="n">x</span>

<span class="k">print</span> <span class="n">total</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>499999500000
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Similarly:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">basket</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>

<span class="ansi-red-fg">NameError</span>Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-13-e578031bb616&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>basket<span class="ansi-blue-fg">.</span>items<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;basket&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">basket</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>

<span class="ansi-red-fg">NameError</span>Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-14-a2c201a05a85&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>basket<span class="ansi-blue-fg">.</span>iteritems<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;basket&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Defining-Our-Own-Iterable">Defining Our Own Iterable<a class="anchor-link" href="#Defining-Our-Own-Iterable">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can make our own iterators by defining <em>classes</em> that implement next() and <strong>iter</strong>() methods: this is the iterator protocol.</p>
<p>For each of the <em>concepts</em>, in Python, like sequence, container, iterable, python defines a <strong>protocol</strong>, a set of methods a class must implement, in order to be treated as a member of that concept.</p>
<p>The iterator protocol is the protocol that defines things that support <code>for x in y:</code>.</p>
<p>To define an iterator, the methods that must be supported are <code>next()</code> and <code>__iter__()</code>.</p>
<p><code>next()</code> must update the iterator.</p>
<p>We'll see why we need to define <code>__iter__</code> in a moment.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">class</span> <span class="nc">fib_iterator</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">seed1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">seed2</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">limit</span> <span class="o">=</span> <span class="n">limit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previous</span> <span class="o">=</span> <span class="n">seed1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="n">seed2</span>
        
    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>
    
    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">previous</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="p">)</span><span class="o">=</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">limit</span> <span class="o">-=</span><span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">limit</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">StopIteration</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">=</span><span class="n">fib_iterator</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[17]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>2</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[18]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>3</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[19]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>5</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[20]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>8</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">fib_iterator</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">x</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>2
3
5
8
13
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="n">fib_iterator</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[22]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>297924218508143360336882819981631900915673130543819759032778173440536722190488904520034508163846345539055096533885943242814978469042830417586260359446115245634668393210192357419233828310479227982326069668668250L</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="A-shortcut-to-iterables:-the-__iter__-method.">A shortcut to iterables: the <code>__iter__</code> method.<a class="anchor-link" href="#A-shortcut-to-iterables:-the-__iter__-method.">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In fact, if, to be iterated over, a class just wants to behave as if it were some other iterable, you can just implement <code>__iter__</code> and return <code>iter(some_other_iterable)</code>, without implementing <code>next</code>.  For example, an image class might want to implement some metadata, but behave just as if it were just a 1-d pixel array when being iterated:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">array</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="k">class</span> <span class="nc">MyImage</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixels</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pixels</span><span class="o">=</span><span class="n">array</span><span class="p">(</span><span class="n">pixels</span><span class="p">,</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;uint8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pixels</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        
    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># return an iterator over the pixels</span>
        <span class="c1"># See future NumPy lecture for using reshape</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pixels</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pixels</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;None&quot;</span><span class="p">)</span>

<span class="n">x</span><span class="o">=</span><span class="p">[[[</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">]],[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">],[</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">]]]</span>
<span class="n">image</span><span class="o">=</span><span class="n">MyImage</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>/home/travis/virtualenv/python2.7.10/lib/python2.7/site-packages/matplotlib/font_manager.py:273: UserWarning: Matplotlib is building the font cache using fc-list. This may take a moment.
  warnings.warn(&#39;Matplotlib is building the font cache using fc-list. This may take a moment.&#39;)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">image</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
nB+bWcUAAAAASUVORK5CYII=
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">image</span><span class="o">.</span><span class="n">channels</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[25]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>3</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">webcolors</span> <span class="kn">import</span> <span class="n">rgb_to_name</span>
<span class="k">for</span> <span class="n">pixel</span> <span class="ow">in</span> <span class="n">image</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">rgb_to_name</span><span class="p">(</span><span class="n">pixel</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>

<span class="ansi-red-fg">ImportError</span>Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-26-755abc5ac407&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span><span class="ansi-green-fg">from</span> webcolors <span class="ansi-green-fg">import</span> rgb_to_name
<span class="ansi-green-intense-fg ansi-bold">      2</span> <span class="ansi-green-fg">for</span> pixel <span class="ansi-green-fg">in</span> image<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span>     <span class="ansi-green-fg">print</span> rgb_to_name<span class="ansi-blue-fg">(</span>pixel<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">ImportError</span>: No module named webcolors</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <strong>iterator</strong> protocol is to implement both <code>__iter__</code> and
<code>next</code>, while the <strong>iterable</strong> protocol is to implement <code>__iter__</code> and return
an something iterable.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Generators">Generators<a class="anchor-link" href="#Generators">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There's a fair amount of "boiler-plate" in the above class-based definition of
an iterable.</p>
<p>Python provides another way to specify something
which meets the iterator protocol: <strong>generators</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">def</span> <span class="nf">my_generator</span><span class="p">():</span>
    <span class="k">yield</span> <span class="mi">5</span>
    <span class="k">yield</span> <span class="mi">10</span>

<span class="n">x</span><span class="o">=</span><span class="n">my_generator</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[28]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>5</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[29]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>10</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>

<span class="ansi-red-fg">StopIteration</span>Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-30-e05f366da090&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>x<span class="ansi-blue-fg">.</span>next<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">StopIteration</span>: </pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A function which has <code>yield</code> statements instead of a <code>return</code> statement returns
<strong>temporarily</strong>: it automagically becomes something which implements <code>next</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Each call of next() returns control to the function where it
left off.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Control passes back-and-forth between the generator and the caller.
Our fibonacci example therefore becomes a function rather than a class.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">def</span> <span class="nf">yield_fibs</span><span class="p">(</span><span class="n">limit</span><span class="p">,</span> <span class="n">seed1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">seed2</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">current</span><span class="o">=</span><span class="n">seed1</span>
    <span class="n">previous</span><span class="o">=</span><span class="n">seed2</span>
    
    <span class="k">while</span> <span class="n">limit</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">limit</span><span class="o">-=</span><span class="mi">1</span>
        <span class="n">current</span><span class="p">,</span> <span class="n">previous</span> <span class="o">=</span> <span class="n">current</span><span class="o">+</span><span class="n">previous</span><span class="p">,</span> <span class="n">current</span>
        <span class="k">yield</span> <span class="n">current</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">print</span> <span class="nb">sum</span><span class="p">(</span><span class="n">yield_fibs</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>31
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">yield_fibs</span><span class="p">(</span><span class="mi">20</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[33]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[&lt;matplotlib.lines.Line2D at 0x2b3e021ce4d0&gt;]</pre>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">yield_fibs</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">a</span><span class="o">%</span><span class="k">2</span> == 0:
        <span class="k">print</span> <span class="n">a</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>2
8
34
144
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">yield_fibs</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[35]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[2, 3, 5, 8, 13, 21, 34, 55, 89, 144]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Context-managers">Context managers<a class="anchor-link" href="#Context-managers">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We saw that instead of separately <code>open</code>ing and <code>close</code>ing a file, we can have
the file be automatically closed using a context manager:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">import</span> <span class="nn">yaml</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;example.yaml&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">foo</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>

<span class="ansi-red-fg">ImportError</span>Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-36-d28ff2bb0fe9&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span><span class="ansi-green-fg">import</span> yaml
<span class="ansi-green-intense-fg ansi-bold">      2</span> 
<span class="ansi-green-intense-fg ansi-bold">      3</span> <span class="ansi-green-fg">with</span> open<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#39;example.yaml&#39;</span><span class="ansi-blue-fg">)</span> <span class="ansi-green-fg">as</span> foo<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span>     <span class="ansi-green-fg">print</span> yaml<span class="ansi-blue-fg">.</span>load<span class="ansi-blue-fg">(</span>foo<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">ImportError</span>: No module named yaml</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>How could we define our own one of these, if we too have clean-up code we
always want to run after a calling function has done its work, or set-up code
we want to do first?</p>
<p>We can define a class that meets an appropriate protocol:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">class</span> <span class="nc">verbose_context</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="n">name</span>
    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s2">&quot;Get ready, &quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
        <span class="k">print</span> <span class="s2">&quot;OK, done&quot;</span>

<span class="k">with</span> <span class="n">verbose_context</span><span class="p">(</span><span class="s2">&quot;James&quot;</span><span class="p">):</span>
    <span class="k">print</span> <span class="s2">&quot;Doing it!&quot;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Get ready,  James
Doing it!
OK, done
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>However, this is pretty verbose! Again, a generator with <code>yield</code> makes for an easier syntax:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>

<span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">verbose_context</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">print</span> <span class="s2">&quot;Get ready for action, &quot;</span><span class="p">,</span> <span class="n">name</span>
    <span class="k">yield</span> <span class="n">name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">print</span> <span class="s2">&quot;You did it&quot;</span>

<span class="k">with</span> <span class="n">verbose_context</span><span class="p">(</span><span class="s2">&quot;James&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">shouty</span><span class="p">:</span>
    <span class="k">print</span> <span class="s2">&quot;Doing it, &quot;</span><span class="p">,</span>  <span class="n">shouty</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Get ready for action,  James
Doing it,  JAMES
You did it
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Again, we use <code>yield</code> to temporarily return from a function.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Decorators">Decorators<a class="anchor-link" href="#Decorators">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When doing functional programming, we may often want to define mutator
functions which take in one function and return a new function, such as our
derivative example earlier.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">def</span> <span class="nf">repeater</span><span class="p">(</span><span class="n">count</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrap_function_in_repeat</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        
        <span class="k">def</span> <span class="nf">_repeated</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="n">counter</span><span class="o">=</span><span class="n">count</span>
            <span class="k">while</span> <span class="n">counter</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">counter</span><span class="o">-=</span><span class="mi">1</span>
                <span class="n">x</span><span class="o">=</span><span class="n">func</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">x</span>
        
        <span class="k">return</span> <span class="n">_repeated</span>
    <span class="k">return</span> <span class="n">wrap_function_in_repeat</span>

<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>

<span class="n">fiftytimes</span><span class="o">=</span><span class="n">repeater</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="n">fiftyroots</span><span class="o">=</span><span class="n">fiftytimes</span><span class="p">(</span><span class="n">sqrt</span><span class="p">)</span>

<span class="k">print</span> <span class="n">fiftyroots</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It turns out that, quite often, we want to apply one of these to a function as we're defining a class.
For example, we may want to specify that after certain methods are called, data should always be stored:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">def</span> <span class="nf">reset_required</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_with_data_save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stored_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_with_data_save</span>

<span class="k">class</span> <span class="nc">SomeClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">=</span><span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stored_data</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">def</span> <span class="nf">_step1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ins</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ins</span><span class="p">]</span>
    <span class="n">step1</span><span class="o">=</span><span class="n">reset_required</span><span class="p">(</span><span class="n">_step1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">=</span><span class="n">SomeClass</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">step1</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">data</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[42]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[&#39;HH&#39;, &#39;ee&#39;, &#39;ll&#39;, &#39;ll&#39;, &#39;oo&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">step1</span><span class="p">(</span><span class="s2">&quot;World&quot;</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">data</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[43]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[&#39;WW&#39;, &#39;oo&#39;, &#39;rr&#39;, &#39;ll&#39;, &#39;dd&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">stored_data</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[44]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[[&#39;HH&#39;, &#39;ee&#39;, &#39;ll&#39;, &#39;ll&#39;, &#39;oo&#39;], [&#39;WW&#39;, &#39;oo&#39;, &#39;rr&#39;, &#39;ll&#39;, &#39;dd&#39;]]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Python provides some "syntactic sugar" to make this kind of coding prettier:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">def</span> <span class="nf">reset_required</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_with_data_save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stored_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_with_data_save</span>

<span class="k">class</span> <span class="nc">SomeClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">=</span><span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stored_data</span><span class="o">=</span><span class="p">[]</span>
    <span class="nd">@reset_required</span>
    <span class="k">def</span> <span class="nf">step1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ins</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ins</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[46]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span><span class="o">=</span><span class="n">SomeClass</span><span class="p">()</span>
<span class="n">x</span><span class="o">.</span><span class="n">step1</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">step1</span><span class="p">(</span><span class="s2">&quot;World&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">x</span><span class="o">.</span><span class="n">stored_data</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[[&#39;HH&#39;, &#39;ee&#39;, &#39;ll&#39;, &#39;ll&#39;, &#39;oo&#39;], [&#39;WW&#39;, &#39;oo&#39;, &#39;rr&#39;, &#39;ll&#39;, &#39;dd&#39;]]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Any function which accepts a function as its first argument and returns a function can be used as a <strong>decorator</strong> like this.</p>
<p>Much of Python's standard functionality is implemented as decorators: we've
seen @contextmanager, @classmethod and @attribute. The @contextmanager
metafunction, for example, takes in an iterator, and yields a class conforming
to the context manager protocol.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Test-generators">Test generators<a class="anchor-link" href="#Test-generators">&#182;</a></h3><p>A few weeks ago we saw a test which loaded its test cases from a YAML file and
asserted each input with each output. This was nice and concise, but had one
flaw: we had just one test, covering all the fixtures, so we got just one . in
the test output when we ran the tests, and if any test failed, the rest were
not run. We can do a nicer job with a test <strong>generator</strong>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">def</span> <span class="nf">assert_examplar</span><span class="p">(</span><span class="o">**</span><span class="n">fixture</span><span class="p">):</span>
    <span class="n">answer</span><span class="o">=</span><span class="n">fixture</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;answer&#39;</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="n">greet</span><span class="p">(</span><span class="o">**</span><span class="n">fixture</span><span class="p">),</span> <span class="n">answer</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_greeter</span><span class="p">():</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span>
        <span class="n">__file__</span><span class="p">),</span><span class="s1">&#39;fixtures&#39;</span><span class="p">,</span><span class="s1">&#39;samples.yaml&#39;</span><span class="p">)</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">fixtures_file</span><span class="p">:</span>
        <span class="n">fixtures</span><span class="o">=</span><span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fixtures_file</span><span class="p">)</span>
        
        <span class="k">for</span> <span class="n">fixture</span> <span class="ow">in</span> <span class="n">fixtures</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">assert_exemplar</span><span class="p">(</span><span class="o">**</span><span class="n">fixture</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Each time a function beginning with <code>test_</code> does a <code>yield</code> it results in another test.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Negative-test-contexts-managers">Negative test contexts managers<a class="anchor-link" href="#Negative-test-contexts-managers">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We have seen this:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">nose.tools</span> <span class="kn">import</span> <span class="n">assert_raises</span>

<span class="k">with</span> <span class="n">assert_raises</span><span class="p">(</span><span class="ne">AttributeError</span><span class="p">):</span>
    <span class="n">x</span><span class="o">=</span><span class="mi">2</span>
    <span class="n">x</span><span class="o">.</span><span class="n">foo</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can now see how <code>nose</code> might have implemented this:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>

<span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">reimplement_assert_raises</span><span class="p">(</span><span class="n">exception</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">yield</span>
    <span class="k">except</span> <span class="n">exception</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Expected,&quot;</span><span class="p">,</span> <span class="n">exception</span><span class="p">,</span> 
                <span class="s2">&quot; to be raised, nothing was.&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">with</span> <span class="n">reimplement_assert_raises</span><span class="p">(</span><span class="ne">AttributeError</span><span class="p">):</span>
    <span class="n">x</span><span class="o">=</span><span class="mi">2</span>
    <span class="n">x</span><span class="o">.</span><span class="n">foo</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Negative-test-decorators">Negative test decorators<a class="anchor-link" href="#Negative-test-decorators">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Nose also implements a very nice negative test decorator:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">nose.tools</span> <span class="kn">import</span> <span class="n">raises</span>

<span class="nd">@raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_raises_type_error</span><span class="p">():</span>
    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;This test passes&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">test_raises_type_error</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="nd">@raises</span><span class="p">(</span><span class="ne">Exception</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_that_fails_by_passing</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">test_that_fails_by_passing</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>

<span class="ansi-red-fg">AssertionError</span>Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-54-fbd84a070d60&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>test_that_fails_by_passing<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">/home/travis/virtualenv/python2.7.10/lib/python2.7/site-packages/nose/tools/nontrivial.pyc</span> in <span class="ansi-cyan-fg">newfunc</span><span class="ansi-blue-fg">(*arg, **kw)</span>
<span class="ansi-green-intense-fg ansi-bold">     65</span>             <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">     66</span>                 message <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#34;%s() did not raise %s&#34;</span> <span class="ansi-blue-fg">%</span> <span class="ansi-blue-fg">(</span>name<span class="ansi-blue-fg">,</span> valid<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">---&gt; 67</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">raise</span> AssertionError<span class="ansi-blue-fg">(</span>message<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     68</span>         newfunc <span class="ansi-blue-fg">=</span> make_decorator<span class="ansi-blue-fg">(</span>func<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">(</span>newfunc<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     69</span>         <span class="ansi-green-fg">return</span> newfunc

<span class="ansi-red-fg">AssertionError</span>: test_that_fails_by_passing() did not raise Exception</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We could reimplement this ourselves now too:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">def</span> <span class="nf">homemade_raises_decorator</span><span class="p">(</span><span class="n">exception</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrap_function</span><span class="p">(</span><span class="n">func</span><span class="p">):</span> <span class="c1">#Closure over exception</span>
        <span class="c1"># Define a function which runs another function under the assert_raises context:</span>
        <span class="k">def</span> <span class="nf">_output</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span> <span class="c1">#Closure over func and exception</span>
            <span class="k">with</span> <span class="n">assert_raises</span><span class="p">(</span><span class="n">exception</span><span class="p">):</span>
                <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        
        <span class="c1"># Return it</span>
        <span class="k">return</span> <span class="n">_output</span>
    <span class="k">return</span> <span class="n">wrap_function</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="nd">@homemade_raises_decorator</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_raises_type_error</span><span class="p">():</span>
    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;This test passes&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">test_raises_type_error</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>


        </div>

      </div>
    </div>

  </div>
  <!-- end .site-content -->

  <footer class="footer wrapper">
  <div class="footer__inner clearfix">
             <article class="block block--col-1">
                <h2 class="as-h5">Facilities</h2>
                <ul class="footer__list list-unstyled">
					<li class="footer__item"><a href="http://www.ucl.ac.uk/departments/faculties">Faculties and departments</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/library/">Library</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/museums">Museums and Collections</a></li>
					<li class="footer__item"><a href="http://www.thebloomsbury.com/">UCL Bloomsbury Theatre</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/maps">Maps and buildings</a></li>
				</ul>
            </article>
            <article class="block block--col-2">
                <h2 class="as-h5">Locations</h2>
                <ul class="footer__list list-unstyled">
					<li class="footer__item"><a href="http://www.ucl.ac.uk/london">UCL and London</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/australia">UCL Australia</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/qatar">UCL Qatar</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/global">UCL Global</a></li>
				</ul>
            </article>
            <article class="block block--col-3">
                <h2 class="as-h5">Connect with us</h2>
                <ul class="footer__list list-unstyled">
					<li class="footer__item"><a href="http://www.ucl.ac.uk/alumni">Alumni</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/enterprise">Businesses</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/media">Media Relations</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/hr/jobs/">Jobs</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/makeyourmark">Give to UCL</a></li>
				</ul>

      </article>
  
    <hr class="clear">
    <ul class="footer__list list-unstyled zero-bottom">
      <li class="footer__item text-muted small">University College London,&nbsp;Gower Street,&nbsp;London,&nbsp;WC1E 6BT&nbsp;Tel:&nbsp;+44&nbsp;(0)&nbsp;20 7679 2000</li>
    </ul>
    <ul class="list-inline footer__list list-unstyled list-inline--divided">
      <li class="text-muted small">Copyright © 2016-10-05 15:08:09 +0000 UCL</li>
      <li class="text-muted small"><a href="#">Disclaimer</a>
      </li>
      <li class="text-muted small"><a href="#">Freedom of Information</a>
      </li>
      <li class="text-muted small"><a href="#">Accessibility</a>
      </li>
      <li class="text-muted small"><a href="#">Privacy</a>
      </li>
      <li class="text-muted small"><a href="#">Cookies</a>
      </li>
      <li class="text-muted small"><a href="#">Contact Us</a>
      </li>
    </ul>
  </div>
</footer>


  <script src="/rsd-engineeringcourse/js/lib/require.min.js"></script>
  <script src="/rsd-engineeringcourse/js/main.js"></script>
    <script>
      require.config({
        baseUrl: '/rsd-engineeringcourse/js/lib'
      });
        require(["app/general", "app/searchWithAutoComplete", "app/tabs"]);//load the default stuff
    </script>

</body>

</html>

